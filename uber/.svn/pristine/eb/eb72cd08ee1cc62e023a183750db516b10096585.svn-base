Ext.define('ExtApp.view.projectManagement.gantt.view.ControlHeader', {
    extend   : 'Ext.panel.Header',
    xtype    : 'controlheader',

    mixins   : ['Gnt.mixin.Localizable'],
    requires : [
        'Ext.form.field.ComboBox'
    ],
    title    : 'WBS',

    //split  : true,
    border   : '0 0 1 0',
    defaults:{
    	xtype:'button'
//		cls: 'gant-icon'
    },
    
    initComponent : function () {
        this.tools = [
            {
                tooltip   : this.L('previousTimespan'),
                reference : 'shiftPrevious',
//              cls       : 'icon-previous',
            	iconCls   : 'x-fa fa-angle-left'
            },
            {
                tooltip   : this.L('nextTimespan'),
                reference : 'shiftNext',
//                cls       : 'icon-next'
                iconCls   : 'x-fa fa-angle-right'
            },
            {
                tooltip   : this.L('collapseAll'),
                reference : 'collapseAll',
                iconCls   : 'x-fa fa-angle-double-up',
//                cls       : 'icon-collapse-all',
                bind      : {
                    disabled : '{filterSet}'
                }
            },
            {
                tooltip   : this.L('expandAll'),
                reference : 'expandAll',
//                cls       : 'icon-expand-all',
                iconCls   : 'x-fa fa-angle-double-down',
                bind      : {
                    disabled : '{filterSet}'
                }
            },
            {
                tooltip   : this.L('zoomOut'),
                iconCls   : 'x-fa fa-search-minus',
                reference : 'zoomOut'
//                cls       : 'icon-zoom-out'
            },
            {
                tooltip   : this.L('zoomIn'),
                iconCls   : 'x-fa fa-search-plus',
                reference : 'zoomIn'
//                cls       : 'icon-zoom-in'
            },
            {
                tooltip   : this.L('zoomToFit'),
                reference : 'zoomToFit',
                iconCls   : 'x-fa fa-arrows-alt'
//                cls       : 'icon-zoom-to-fit'
            },
            {
                tooltip   : this.L('undo'),
                reference : 'undo',
                iconCls   : 'x-fa fa-rotate-left',
//                cls       : 'icon-undo',
                bind      : {
                    disabled : '{!canUndo}'
                }
            },
            {
                tooltip   : this.L('redo'),
                reference : 'redo',
                iconCls   : 'x-fa fa-rotate-right',
//                cls       : 'icon-redo',
                bind      : {
                    disabled : '{!canRedo}'
                }
            },
            {
                tooltip   : this.L('viewFullScreen'),
                reference : 'viewFullScreen',
                iconCls   : 'x-fa fa-desktop',
//                cls       : 'icon-fullscreen',
                bind      : {
                    hidden : '{!fullscreenEnabled}'
                }
            },
            {
                tooltip   : this.L('highlightCriticalPath'),
                reference : 'criticalPath',
                iconCls   : 'x-fa fa-fire'
//                cls       : 'icon-critical-path'
            },
            {
                tooltip   : this.L('addNewTask'),
                reference : 'addTask',
                iconCls   : 'x-fa fa-plus',
//                cls       : 'icon-add-task',
                bind      : {
                    disabled : '{!hasSelection}'
                }
            },
            {
                tooltip   : this.L('removeSelectedTasks'),
                reference : 'removeSelected',
                iconCls   : 'x-fa fa-minus',
//                cls       : 'icon-remove-task',
                bind      : {
                    disabled : '{!hasSelection}'
                }
            },
            {
                tooltip   : this.L('indent'),
                reference : 'indentTask',
                iconCls   : 'x-fa fa-indent',
//                cls       : 'icon-indent',
                bind      : {
                    disabled : '{!hasSelection}'
                }
            },
            {
                tooltip   : this.L('outdent'),
                reference : 'outdentTask',
                iconCls   : 'x-fa fa-outdent',
//                cls       : 'icon-outdent',
                bind      : {
                    disabled : '{!hasSelection}'
                }
            },
            {
                tooltip   : this.L('manageCalendars'),
                reference : 'manageCalendars',
                iconCls   : 'x-fa fa-calendar',
//                cls       : 'icon-calendar',
                bind      : {
                    hidden : '{!calendarManager}'
                }
            },
            {
                tooltip   : this.L('saveChanges'),
                reference : 'saveChanges',
                iconCls   : 'x-fa fa-floppy-o',
//                cls       : 'icon-save',
                bind      : {
                    hidden   : '{!crudPersistable}',
                    disabled : '{!hasChanges}'
                }
            },
            {
                tooltip   : this.L('tryMore'),
                reference : 'tryMore',
                iconCls   : 'x-fa fa-gear'
//                cls       : 'icon-settings'
            },
            {
                xtype         : 'combo',
                reference     : 'langSelector',
                margin        : '0 10',
                bind          : {
                    store : '{availableLocales}',
                    value : '{currentLocale}'
                },
                displayField  : 'title',
                valueField    : 'id',
                mode          : 'local',
                triggerAction : 'all',
                emptyText     : this.L('selectLanguage'),
                selectOnFocus : true
            }
        ];

        Ext.Array.forEach(this.tools, function (cmp) {
            if (cmp.reference) cmp.itemId = cmp.reference;
        });

        this.callParent(arguments);
    }
});
