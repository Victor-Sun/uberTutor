Ext.define('ExtApp.view.workorder.common.WorkOrderEngineerPanel',{
	extend: 'Ext.panel.Panel',
	xtype: 'workorderengineerpanel',

	height: '55%',
	initComponent: function() {
		var me = this;
		var engStore = Ext.create('Ext.data.Store', {
		    fields: ['id', 'name'],
		    proxy: {
		    	type: 'ajax',
		    	url: '/pdms/workorder/workorder!getUserList.action',
		        reader: {
		            type: 'json',
		            rootProperty: 'data'
		        }
		    },
			autoLoad:true
		});
		
		// Create the combo box, attached to the states data store
		var eng = Ext.create('Ext.form.ComboBox', {
		    fieldLabel: '处理工程师',
		    store: engStore,
		    name:'eng',
		    queryMode: 'local',
		    displayField: 'name',
		    allowBlank:false,
		    forceSelection:true,
		    valueField: 'id',
		    width:200,
		    padding:'10 25 10 30',
		    labelAlign: 'top'
		});
		
		
		
		me.items = [{
	        layout: {
	            type: 'vbox',
	            align: 'stretch'
	        },
	        items: [{
	            xtype: 'fieldset',
	            margin: '5 10 5 10',
	            layout: {
	            	type: 'vbox',
	            	align: 'stretch'
	            },
	            items: [{
	                xtype: 'textarea',
	                fieldLabel: '需求',
	                name:'workDescription',
	                allowBlank:false,
	                labelAlign: 'top',
	                margin: 5
	            }]
	        },{
	            xtype: 'fieldset',
	            margin: '5 10 5 10',
	            layout: {
	                type: 'vbox',
	                align: 'stretchmax'
	            },
	            items: [eng,{
			        xtype:'hiddenfield', 
			        name: 'pm'
				}]
	        }]
		}];
		me.callParent(arguments);
	}
});