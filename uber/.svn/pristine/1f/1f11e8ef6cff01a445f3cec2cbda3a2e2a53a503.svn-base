Ext.define('ExtApp.view.myworkspace.task.PmTaskComment',{
	extend:'Ext.grid.Panel',
	xtype:'pmTaskComment',
	
	requires:[
      'Ext.grid.Panel',
      'Ext.grid.column.Date',
      'Ext.grid.plugin.RowExpander'
	],
	
	layout:'fit',
	controller:'pmtaskcomment',
	viewModel: {
        type: 'pmtaskcomment'
    },
	
	margin:0,
	cls:'notes-grid',
	scrollable:'y',
	border:false,
	
	initComponent: function() {
		
		this.store = Ext.create('ExtApp.store.myworkspace.PmTaskCommentStore');
		this.store.getProxy().extraParams = {processId: this.processId};
		this.store.load();

		this.columns = [{
			dataIndex:'title',
			flex:1,
			renderer:'renderTitleColumn'
		}];
	
		this.titleTpl =
	        '<div class="text-wrapper">'+
				'<div class="notes-icon shadow {roleId}">&nbsp;</div>'+
	            '<div class="notes-data">'+
	                '<div class="notes-content">'+
						'<div class="notes-header">'+
							'<span class="notes notes-author"><i class="fa fa-user"></i>{author}</span>'+
							'<span class="notes notes-step"><i class="fa fa-map-marker"></i>{stepId}</span>'+
							'<span class="notes notes-step"><i class="{resultIcon}"></i>{resultMsg}</span>'+
						'</div>'+
						'<div class="notes-header">'+
							'<span class="notes notes-time"><i class="fa fa-calendar "></i>{date}&nbsp;{time}</span>'+
							//'<span class="notes notes-time"><i class="fa fa-clock"></i></span>'+
						'</div>'+
						'<div class="notes-paragraph" {expanded}>'+
							'<span>{paragraph}</span>'+
						'</div>'+
	                '</div>'+
	            '</div>'+
	        '<div>';
		
		this.callParent(arguments);
	}
});