/**
 * 质量问题管理-提交问题-知会-人员选择窗口-已选人员列表Controller
 */
Ext.define('ExtApp.view.qualityissuemanagement.qesubmission.QeNotifySelectMemberGridController', {
    extend: 'Ext.app.ViewController',
    alias: 'controller.qeNotifySelectMemberGrid',

    //双击删除
    onClickCell: function(grid , td , cellIndex , record , tr , rowIndex , e , eOpts) {
    	var me = this.view;
    	var gridSelected = me.up('qeNotifySelectWindow').down('qeNotifySelectedMemGrid').down('grid');

		var intId = gridSelected.getStore().getCount();
		if (intId != 0 ) {
			intId = intId + 1;
		}

		var valId = rowIndex.data.id;
		var valName = rowIndex.data.name;
		var valPosition = rowIndex.data.profileName;

		var gridStore = gridSelected.getStore();
		if (gridStore.find('memId', valId) == -1) {
			gridStore.insert(intId, {
    			memId : valId,
    			memName : valName,
    			memPosition : valPosition
    		});
		} else {
			var position = gridStore.find('memId', valId);
			gridSelected.getStore().remove(gridSelected.getStore().getAt(position));
		}
	}
});