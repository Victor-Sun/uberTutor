Ext.define("ExtApp.view.scheduler.column.ProgressHeader", {
    extend : 'Ext.grid.column.Column',
    alias  : 'widget.progressHeadercolumn',

    draggable     : false,
    groupable     : false,
    hideable      : false,
    sortable      : false,
    resizable     : true,
    menuDisabled  : true,
    cls           : 'sch-simple-timeaxis',
    requires      : [
        'Sch.view.HorizontalTimeAxis'
    ],

    headerHtmlRowTpl:
    '<table border="0" style="width:100%; border-top:{borderTop}; border-right:0;" cellspacing="0" cellpadding="0" class="sch-header-row sch-header-row-{pos}">' +
    '<thead>' +
    '<tr>' +
    '<td class="sch-column-header">' +
    '<div class="sch-simple-timeheader">{header}</div>' +
    '</td>' +
    '</tr>' +
    '</thead>' +
    '</table>',

    constructor : function (config) {
        this.headerHtmlRowTpl = new Ext.XTemplate(this.headerHtmlRowTpl);
        this.callParent(arguments);
    },
    
    afterRender : function () {
        var me = this;

        var ct = me.titleEl.createChild({
            cls : 'sch-horizontaltimeaxis-ct'
        });

        var innerCt     = ct,
            ctDom       = innerCt.dom;
        
        var html = this.headerHtmlRowTpl.apply({
            //header : 'Stage',
            pos    : 'top',
            borderTop : 0
        });

        html += this.headerHtmlRowTpl.apply({
            //header : 'Calendar',
            pos    : 'middle',
            borderTop : 1
        });
        
        ctDom.innerHTML = html;
        me.callParent(arguments);
    }
});


