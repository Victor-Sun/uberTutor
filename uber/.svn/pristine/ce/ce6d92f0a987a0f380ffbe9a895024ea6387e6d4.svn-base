/**
 * 工作联系单View
 */
Ext.define('ExtApp.view.workorder.inbound.WorkOrderInbound',{
	extend:'Ext.container.Container',
	xtype:'workOrderInbound',
	controller: 'workOrderInbound',
	margin:20,
	layout:'fit',
	initComponent: function() {
		var workOrderStore = Ext.create('ExtApp.store.workorder.WorkOrderInbound');
		workOrderStore.load();
		this.items = [{
			title:'接收工作联系单',
			xtype:'grid',
			layout:{
				type:'fit'
			},
			cls:'allRecordCls shadow',
			store: workOrderStore,
			columns:[{
				xtype: 'rownumberer'
			},{
				text:'发文单位',
				flex:1,
				dataIndex:'sourceDept'
			},{
				text:'收文单位',
				flex:1,
				dataIndex:'targetDept'
			},{
				text:'所属项目',
				flex:1,
				dataIndex:'programName'
			},{
				text:'工作类别',
				flex:1,
				dataIndex:'workTypeName'
			},{
				text:'工作名称',
				flex:1,
				dataIndex:'title'
			},{
				text:'编制人',
				flex:1,
				dataIndex:'createBy'
			},{
				text:'编制日期',
				flex:1,
				dataIndex:'createDate'
			}],
			listeners:{
	        	celldblclick: 'onCelldblclick'
			},
			tbar: [{
	        	text: '新建接收工联单',
	            handler: 'StepWindow1'
	        },{ type:'button', text:'导入工作联系单',
				listeners: {
					click:function(button){
						Ext.create('ExtApp.view.workorder.common.WorkOrderImportWindow',{grid:button.up('grid')}).show();
					}
				}
			}],
			dockedItems: [{
				xtype: 'pagingtoolbar',
				dock: 'bottom',
				displayInfo: true,
				store: workOrderStore
			}]
		}];
		this.callParent(arguments);
	}
});