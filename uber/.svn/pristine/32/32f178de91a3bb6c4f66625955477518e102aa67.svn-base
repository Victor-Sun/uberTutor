Ext.define('ExtApp.view.projectmanagement.report.ReportCenter',{
	extend: 'Ext.window.Window',
	xtype: 'reportCenter',
	
	maximized: true,
	
	title: '报表中心',
	itemId: 'report-container',
	margin: 10,
	layout: {
		type: 'vbox',
		align: 'stretch'
	},
	items: [{
		xtype: 'panel',
		flex: 1,
		layout: 'fit',
		title: '报表',
		items:[{
			xtype : "component",	
			itemId: 'report-iframe',
			autoScroll: true,
	        autoEl : {
	            tag : "iframe",
	            src : "http://www.bing.com"
	        }
		}]
	}],
	dockedItems: [{
		xtype: 'toolbar',
		itemId: 'report-toolbar',
		items: [{
			xtype: 'textfield',
			fieldLabel: '项目'
		},{
			xtype: 'textfield',
			fieldLabel: '子项目'
		},{
			xtype: 'textfield',
			fieldLabel: '部门'
		},
		'->',
		{
			xtype: 'textfield',
			itemId: 'report-search',
			fieldLabel: 'Search Field',
			value: 'www.qq.com'
		},
		{
			xtype: 'button',
			text: 'Search',
			handler: function(btn) {
				var text = btn.up('#report-toolbar').down('#report-search'),
				search = text.getValue(),
				win = btn.up('#report-container').down('#report-iframe'),
				el = win.getEl()
				el.dom.src = 'http://' + search;
				
//				var win = btn.up('window'),
//				con = win.down('#report-iframe'),
//				el = con.getEl();
//				el.dom.src = 'http://baidu.com'
			}
		},
		{
			xtype: 'button',
			text: 'Baidu',
			handler: function(btn) {
				var win = btn.up('window'),
				con = win.down('#report-iframe'),
				el = con.getEl();
				el.dom.src = 'http://baidu.com'
			}
		},
		{
			xtype: 'button',
			text: 'Bing',
			handler: function(btn) {
				var pan = btn.up('panel'),
				con = pan.down('#report-iframe'),
				el = con.getEl();
				el.dom.src = 'http://bing.com'
			}
		}
		]
	}]
});