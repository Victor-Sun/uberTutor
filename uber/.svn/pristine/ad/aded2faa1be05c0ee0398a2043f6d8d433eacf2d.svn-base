/**
 * 项目管理-项目模板库-主计划(泳道)Controller
 */
Ext.define('ExtApp.view.projectmanagement.templatelibrary.ProjectTemplateSwimLaneController',{
    extend: 'Ext.app.ViewController',
    alias: 'controller.projectTemplateSwimLane',
    
    // 显示交付物信息
    onCelldblclick: function(grid, td, cellIndex, record, tr, rowIndex, e, eOpts) {
    	var rec = grid.getStore().getAt(rowIndex);
    	var refPanel = this.lookupReference('refSwimLaneDeliverable');
    	if (refPanel.items.getCount() > 0) {
    		var p4remove = refPanel.items.get(0);
    		refPanel.remove(p4remove);
    	}
    	var newView = Ext.create({
        	xtype: 'projectTemplateSwimLaneDeliverable',
        	programId: this.view.programId,
        	taskId: rec.get('id')
        });
    	newView.items.get(0).setTitle('交付物-' + rec.get('displayName'));
    	refPanel.add(newView);
    }

});