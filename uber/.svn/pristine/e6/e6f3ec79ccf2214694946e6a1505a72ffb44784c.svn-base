/**
 * 时程表泳道设定-任务列表
 */
Ext.define('ExtApp.view.projectmanagement.timeline.setting.TimeLineTask',{
	extend:'Ext.panel.Panel',
	xtype:'timeLineTask',

	controller: 'timeLineTask',
	
	layout: 'fit',

	initComponent: function() {
		var functionTaskStore = Ext.create(
			'ExtApp.store.projectmanagement.TimeLineFunctionTaskStore');
		functionTaskStore.getProxy().extraParams = {
			functionId: this.functionId, childObsId: this.childObsId};
		functionTaskStore.load();
	
		this.items = [{
			xtype:'fieldset',
			layout:'fit',
			items:[{
				xtype:'panel',
				layout:'fit',
				items:[{
					xtype:'grid',
					store: functionTaskStore,
					columns: [{
						xtype: 'rownumberer'
					},{
						text: '节点名称',
						dataIndex: 'taskName',
						flex: 1
					},{
						text: '开始日期',
						dataIndex: 'plannedStartDate',
						formatter: 'date("Y/m/d")',
						flex: 1
					},{
						text: '结束日期',
						dataIndex: 'plannedFinishDate',
						formatter: 'date("Y/m/d")',
						flex: 1
					},{
						xtype: 'checkcolumn',
						text: '显示',
						width: 60,
						dataIndex: 'displayFlg',
						listeners: {
							checkchange: 'onCheckchange'
						}
					}]
				}]
			}]
		}]
		this.callParent();
	}
});