/**
 * 项目管理-项目排序View
 */
Ext.define('ExtApp.view.projectmanagement.list.ProjectSort',{
	extend:'Ext.window.Window',
	xtype:'projectSort',

	controller: 'projectSort',
	
	modal: true,
	closable: false,
	layout:{
		type:'fit'
	},
	
	width: 800,
	height:500,
	title:'项目排序',
	
	initComponent: function() {
		var store = Ext.create(
			'ExtApp.store.projectmanagement.ProjectListStore');
		store.getProxy().extraParams = {
			usualProject: "1"
		};
		store.load();

		this.items = [{
			xtype: 'grid',
			store: store,
			selModel: {
                type: 'rowmodel'
            },
			columns: [{
				xtype: 'rownumberer'
			},{
				text: '项目代号',
				flex: 1,
				dataIndex: 'code'
			},{
				text: '名称',
				flex: 1,
				dataIndex: 'programName'
			},{
				xtype: 'numbercolumn',
				text: '序号',
				flex: 1,
				format: '0',
				dataIndex: 'seq',
				filter: {
					type: 'number' 
				},
				editor: {
					xtype: "numberfield",
	                allowBlank: false,
	                decimalPrecision: 0,
	                allowDecimals:false,
	                minValue: 1,
	                maxValue: 99999
	            }
			}],
            dockedItems: [{
                xtype: 'pagingtoolbar',
                dock: 'bottom',
                displayInfo: true,
                store: store
            }],
            listeners: {
			    edit: 'onEdit'
			}
		}];
		this.tools = [{
	    	text:'关闭',
	    	xtype: 'button',
	    	iconCls: 'x-fa fa-close',
	    	handler: 'closeWindow'
	    }];
		this.callParent();
	}
});