Ext.define('ExtApp.view.qualityissuemanagement.qedashboard.IssueSearchWindow',{
	extend: 'Ext.window.Window',
	xtype: 'issuesearchwindow',
	
	itemId: 'issuesearch',
	closable: false,
	maximized: true,
//	height: 500,
//	width: 500,
	
	layout: {
		type: 'border'
	},
	
	
	initComponent: function() {
		var me = this;
				
		me.items = [{
			xtype:'panel',
			region: 'center',
			title:'',
			layout: {
				type: 'vbox',
				align: 'stretch'
			},
			items:[{
//				xtype:'form',
//				layout:{
//					type:'hbox',
//					align:'stretch'
//				},
//				margin:10,
//				items:[{
//					xtype:'combo',
//					editable: false,
//					width:100,
////					bind: {
////						store: '{searchChoice}'
////			        },
////				    queryMode: 'local',
//				    displayField: 'name',
//				    valueField: 'id',
//				    name:'searchChoice',
//				    value:'code'
////				},{
////					xtype:'searchfield',
//////					store: store,
////					emptyText:'enter search term'
//				}]
			},{
				xtype:'grid',
				flex: 1,
				layout: 'fit',
//				store: store,
				columns: [
					{ text: '序号', width:'5%', xtype : "rownumberer"},
					{ text: '标题', style:'text-align:center', flex: 1},
					{ text: '提出人', style:'text-align:center', flex: 1},
					{ text: '提出时间', style:'text-align:center', flex: 1}
					
				],
				dockedItems: [{
					xtype: 'pagingtoolbar',
					dock: 'bottom',
//			        pageSize:itemsPerPage,
					displayInfo: true,
//					store: store,
					firstText:null,
					prevText:null,
					nextText:null,
					lastText:null,
					refreshText:null
				}]
			}]
		},{
			xtype: 'panel',
			region: 'east',
			split: true,
			width: '65%',
			layout: {
				type: 'vbox',
				align: 'stretch'
			},
			items: [{
				xtype: 'toolbar',
				items: [{
					text: '查看全部信息',
					handler: function (){
						Ext.create('Ext.window.Window',{
							width: 300,
							height: 300,
							html: 'text here'
						}).show();
					}
				},{
					text: '确认'
				}]
			},{
				xtype:'myTaskInfoOne'
			},{
				xtype:'myTaskInfoTwo'
			},{
				xtype:'myTaskInfo'
			}]
		}];

		this.header = {
			border: 0,
			padding: 0,
			height: 64,
			cls: 'sencha-dash-dash-headerbar window-header shadow',
			defaults: {
				ui: 'h-textfield'
			},
			items:[
			{
				xtype: 'textfield',
				labelWidth: 35,
				margin: '3 5 3 10',
				fieldLabel: '标题'
			},
			{
	    	   xtype: 'textfield',
	    	   margin: '3 15 3 5',
	    	   labelWidth: 45,
	    	   fieldLabel: '提出人'
			},
			{
				xtype: 'datefield',
				labelWidth: 30,
				margin: '3 5 3 15',
				fieldLabel: '时间'
			},
			{
				xtype: 'datefield',
				labelWidth: 25,
				margin: '3 15 3 0',
				fieldLabel: '到'
				
			}
			],
			itemPosition: 0
	    };
	    
	    this.tools = [{
	    	xtype: 'toolbar',
	    	items: [{
	    		xtype: 'button',
	    		iconCls: 'x-fa fa-search',
		    	ui: 'window-header',
		    	text:'搜索'
		    },{
		    	xtype: 'button',
		    	iconCls: 'x-fa fa-refresh',
		    	ui: 'window-header',
		    	text: '重置'
		    },{
		    	xtype: 'button',
		    	iconCls: 'x-fa fa-close',
		    	text: '关闭',
		    	ui: 'window-header',
		    	handler: function (){
		    		me.close();
		    	}
	    	}]
	    }];
		this.callParent();
	}
})