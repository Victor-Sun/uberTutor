/**
 * 项目管理-状态报告
 */
Ext.define('ExtApp.view.projectmanagement.report.ProjectDBStatusReport',{
	extend:'Ext.panel.Panel',
	xtype:'projectDBStatusReport',

	controller: 'projectDBStatusReport',
	viewModel: 'projectDBStatusReport',

	scrollable:'y',
	
	layout:{
		type:'responsivecolumn'
	},	
	title:'状态报告',
	initComponent: function() {
//		var me = this;
//		// 状态报表Store
//		var reportStore = Ext.create(
//			'ExtApp.store.projectmanagement.ProjectDBStatusReportStore');
//		reportStore.getProxy().extraParams = {
//			programId: this.programId, vehicleId: this.programVehicleId};
//		reportStore.load();
		
//		// 质量图表store
//		this.qualityPolarStore = Ext.create(
//				'ExtApp.store.qualityissuemanagement.QMSDashboardStore');
//		this.qualityPolarStore.getProxy().extraParams = {
//			partStatus: this.programId,
//			vehicleId: this.programVehicleId
//		};
//		this.qualityPolarStore.load();
//		
//		this.qualityPolarStore.on('load', function() {
//			var chPolar = me.down('dashboardPolar');
//			chPolar.setStore(this);
//		    var storeLegend = chPolar.legend.getStore();
//		    if (this.data.length != 0) {
//		    	for (var i = 0; i < this.totalCount; i++) {
//		    		this.getAt(i).data.disabled = false;
//		    		chPolar.series[0].setHiddenByIndex(i, false);
//		        	if (this.getAt(i).get('data1') == '0') {
//		        		this.getAt(i).data.disabled = true;
//		        		chPolar.series[0].setHiddenByIndex(i, true);
//		        	}
//		    	}
//		    }
//		});
//		
//		// 质量图表2store
//		this.qualityStore2 = Ext.create(
//				'ExtApp.store.qualityissuemanagement.QMSBrowsersStore');
//		this.qualityStore2.getProxy().extraParams = {
//			partStatus: this.programId,
//			vehicleId: this.programVehicleId
//		};
//		this.qualityStore2.load();
//		this.qualityStore2.on('load', function() {
//			var chart = me.down('dashboardCartesian');
//			chart.setStore(this);
//		});

		this.items = [{
//			xtype:'panel',
//			style: 'border: 1px solid black;',
//			cls:'big-100 small-100 shadow',
//			title:'项目状态',
//			items:[{
//				xtype:'grid',
//				margin:0,
//				reference:'refDBStatusReport',
//				style: 'border-top: 1px solid black;',
//				store: reportStore,
//				columns:[{
//					text: '项目进展',
//					width:'20%', 
//					renderer: 'renderReportStatus',
//					align: 'center',
//					dataIndex: 'statusCodePs'
//				},{
//					text: '质量问题', 
//					width:'20%', 
//					renderer: 'renderReportStatus',
//					align: 'center',
//					dataIndex: 'statusCodeQi'
//				},{
//					text: '性能指标', 
//					width:'19%', 
//					renderer: 'renderReportStatus',
//					align: 'center',
//					dataIndex: 'statusCodePi'
//				},{
//					text: '整车成本', 
//					width:'20%', 
//					renderer: 'renderReportStatus',
//					align: 'center',
//					dataIndex: 'statusCodeVc'
//				},{
//					text: '投资预算', 
//					renderer: 'renderReportStatus',
//					align: 'center',
//					width:'20%', 
//					dataIndex: 'statusCodeIb'
//				}]
//			}],
//			tbar:['->',{
//				xtype:'button',
//				itemId: 'BTNP0102',
//				text:'编辑项目状态',
//				handler: 'editStatusReport',
//				hidden: true
//			}]
//		},{
			xtype: 'panel',
			layout: 'border',
			height: 220,
//			style: 'border: 1px solid black;',
			cls:'shadow big-100 small-100',
			title:'项目进展',
			items: [{
				xtype: 'panel',
				region: 'center',
				reference: 'refProcessReport',
				layout:'fit'
			}]
//		},{
//			xtype: 'panel',
//			layout:{
//				type:'hbox',
//				align:'stretch'
//			},
//			height: 480,
////			style: 'border: 1px solid black;',
//			cls:'shadow big-100 small-100',
//			title:'质量问题报表',
//			items:[{
//				xtype:'panel',
//				layout:'fit',
//				flex:1,
//				items:[{
//					xtype:'dashboardPolar',
//					isPmReport: true
//				}]
//			},{
//				xtype:'panel',
//				layout:'fit',
//				flex:1,
//				items:[{
//					xtype:'dashboardCartesian',
//					isPmReport: true
//				}]
//			}]
			
//			xtype:'panel',
//			style: 'border: 1px solid black;',
//			height:480,
//			cls:'shadow big-50 small-100',
//			title:'质量问题',
//			layout:'fit',
//			items:[{
//				xtype:'dashboardPolar',
//				isPmReport: true
//			}]
//		},{
//			xtype:'panel',
//			style: 'border: 1px solid black;',
//			height:480,
//			cls:'shadow big-50 small-100',
//			title:'性能展示',
//			layout:'fit',
//			items:[{
//				xtype: 'polar',
//		        width: '100%',
//		        height: 450,
//		        insetPadding: 50,
//		        innerPadding: 20,
//		        store: {
//		            type: 'projectDBPerformance'
//		        },
//		        legend: {
//		        	type: 'sprite',
//		            docked: 'bottom'
//		        },
//		        interactions: ['rotate'],
//		        sprites: [{
//		            type: 'text',
//		            text: '性能目标总数: 20',
//		            x: 180,
//		            y: 390
//		        }],
//		        series: [{
//		            type: 'pie',
//		            angleField: 'data1',
//		            label: {
//		                field: 'os',
//		                calloutLine: {
//		                    length: 60,
//		                    width: 3
//		                }
//		            },
//		            highlight: true,
//		            tooltip: {
//		                trackMouse: true,
//		                renderer: 'onSeriesTooltipRender01'
//		            }
//		        }]
//			}]
//		},{
//			xtype:'panel',
//			style: 'border: 1px solid black;',
//			cls:'shadow',
//			title:'风险管理',
//			items:[{
//				xtype: 'grid',
//				margin: 0,
//				style: 'border-top: 1px solid black;',
//				bind: '{projectDBStatusReport01}',
//				columns:[{
//					xtype: 'rownumberer'
//				},{
//					text: '阶段', 
//					width:'20%', 
//					dataIndex: 'jieduan'
//				},{
//					text: '提出日期', 
//					width:'20%', 
//					dataIndex: 'tichu'
//				},{
//					text: '提出人', 
//					width:'20%', 
//					dataIndex: 'tichuren'
//				},{
//					text: '风险分类', 
//					width:'20%', 
//					dataIndex: 'fengxian'
//				},{
//					text: 'RPN', 
//					width:'20%', 
//					dataIndex: 'rpn'
//				},{
//					text: '责任人', 
//					width:'20%', 
//					dataIndex: 'zerenren'
//				},{
//					text: '计划完成时间', 
//					width:'20%', 
//					dataIndex: 'shijian'
//				},{
//					text: '状态',
//					width:'20%',
//					dataIndex: 'zhuangtai'
//				}]
//			}]
		}];
		this.callParent(arguments);
	}
});