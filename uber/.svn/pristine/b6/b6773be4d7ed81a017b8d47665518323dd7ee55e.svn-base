/**
 * 质量问题管理-变更日志
 */
Ext.define('ExtApp.view.qualityissuemanagement.qedashboard.ChangeLog',{
	extend:'Ext.tab.Panel',
	xtype:'changeLog',
	viewModel: 'myTask',
	margin:20,
	cls:'shadow',
	initComponent:function() {
		var me = this;
		var changeLogStore = Ext.create('ExtApp.store.qualityissuemanagement.ChangeLogStore');
		changeLogStore.load({params:{issueId:me.issueId}});
		me.items = [{
			xtype:'panel',
			title:'变更日志',
			layout: {
				type: 'fit'
			},
//			width:'100%',
			items:[{
				xtype:'grid',
				cls: 'allRecordsCls',
				viewConfig: {
					preserveScrollOnRefresh: true,
					stripeRows: false
				},
				columnLines: true,
				flex: 1,
				store:changeLogStore,
				columns: [
					{ text: '处理时间', width:'20%', dataIndex : 'processingTime'},
					{ text: '处理人', flex:1, dataIndex: 'processingPeople' },
//						renderer: 'renderLink',
//						listeners: {
//							click: 'onClickCell'
//						}},
					{ text: '动作', width:'30%', dataIndex: 'actionOne' }
				],
				dockedItems: [{
					xtype: 'pagingtoolbar',
					dock: 'bottom',
					displayInfo: true,
					store:changeLogStore
				}]
			}]
		}]
		this.callParent();
	}
});