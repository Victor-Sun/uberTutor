/**
 * 项目管理-项目模板库-主计划(主节点)
 */
Ext.define('ExtApp.view.projectmanagement.templatelibrary.ProjectTemplateMainNode',{
	extend:'Ext.form.Panel',
	xtype:'projectTemplateMainNode',

	controller: 'projectTemplateMainNode',
	viewModel: 'projectTemplateMainNode',
	
	layout: 'fit',
	
	initComponent: function() {

		var mainNodeStore = Ext.create(
			'ExtApp.store.projectmanagement.ProjectTemplateMainNodeStore');
		mainNodeStore.getProxy().extraParams = {programId: this.programId};
		mainNodeStore.load();
	
		this.items = [{
			xtype: 'grid',
			store: mainNodeStore,
			columns:[{
				xtype: 'rownumberer'
			},{
				text:'节点名称',
				flex: 1,
				dataIndex:'taskName'
			},{
				text:'计划完成周期(天)',
				flex: 1,
				dataIndex:'finishDaysToSop'
			}],
			dockedItems: [{
	            xtype: 'pagingtoolbar',
	            dock: 'bottom',
	            displayInfo: true,
	            store: mainNodeStore
	        }]
		}];
		this.callParent(arguments);
	}
});