/**
 * 首页-个人设置-我的工作组
 */
Ext.define('ExtApp.view.toolbarsettings.MyWorkGroup',{
	extend:'Ext.panel.Panel',
	xtype:'myWorkGroup',

	controller: 'myWorkGroup',
	layout: 'fit',

	initComponent: function() {
		// 我的工作组
		var groupStore = Ext.create('ExtApp.store.toolbarsettings.MyWorkGroupStore');
		groupStore.load();
		
		this.items = [{
			xtype:'panel',
			layout: 'border',
			defaults: {
				frame: false,
				border: false
			},
			items: [{
				region: 'west',
				xtype:'panel',
				title: '工作组',
				layout: 'fit',
				width: 200,
				collapsible: true,
				split: true,
				items: [{
					xtype: 'grid',
					reference: 'refGroupGrid',
					store: groupStore,
					hideHeaders: true,
					columns: [{
						text: '工作组',
			  			flex: 1,
			  			dataIndex: 'name'
					}],
					dockedItems: [{
						xtype: 'toolbar',
						dock: 'top',
						items: [{
							xtype: 'button',
							text: '添加工作组',
							handler: 'onAddGroup'
						}]
					}],
					listeners:{
						cellclick: 'onCellclickGroup',
						cellcontextmenu: 'onCellcontextmenuGroup'
			  		}
				}]
			},{
				region: 'center',
				xtype:'panel',
				itemId: 'mainCardPanel',
				layout: 'card'
			}]
		}];
		this.callParent(arguments);
	}
});