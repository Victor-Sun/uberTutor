Ext.define('ExtApp.view.projectmanagement.templatelibrary.ProjectTemplateGateNodeDeliverable',{
	extend:'Ext.form.Panel',
	xtype:'projectTemplateGateNodeDeliverable',
	
//	controller: 'projectTemplateGateNodeDeliverable',
//	viewModel: 'projectTemplateGateNodeDeliverable',
	layout: 'fit',
	
	initComponent: function() {
		
		var gateNodeStore = Ext.create(
			'ExtApp.store.projectmanagement.ProjectTemplateGateNodeDeliverableStore');
		gateNodeStore.getProxy().extraParams = {taskId: this.taskId};
		gateNodeStore.load();
	
		this.items = [{
			margin: 10,
			xtype:'fieldset',
			layout: 'fit',
	    	collapsible:true,
	    	items:[{
				xtype: 'grid',
				store: gateNodeStore,
				columns:[{
					xtype: 'rownumberer'
				},{
					text:'阀门名称',
					flex: 1,
					dataIndex:'taskName'
				},{
					text:'交付物编号',
					flex: 1,
					dataIndex:'code'
				},{
					text:'交付物名称',
					flex: 1,
					dataIndex:'name'
				},{
					text:'检查项目',
					flex: 1,
					dataIndex:'checkitemName'
				},{
					text:'单项通过要求及验收办法',
					flex: 1,
					dataIndex:'checkRequirement'
				},{
					text:'负责主体',
					flex: 1,
					dataIndex:'obsName'
				},{
					text:'是否关键交付物',
					flex: 1,
					dataIndex:'isKey'
				}],
				dockedItems: [{
		            xtype: 'pagingtoolbar',
		            dock: 'bottom',
		            displayInfo: true,
		            store: gateNodeStore
		        }]
	    	}]
		}];
		this.callParent(arguments);
	}
});