/**
 * 项目车型-基本信息
 */
Ext.define('ExtApp.view.projectmanagement.vehicle.VehicleBaseInfo',{
	extend:'Ext.form.Panel',
	xtype:'vehicleBaseInfo',

	layout: 'fit',
	
	url: '/pdms/pm/project-tree!getVehicle.action',
	controller: 'vehicleBaseInfo',

	initComponent: function() {
		var me = this;

		me.items = [{
			xtype:'panel',
			layout: 'column',
			padding: 5,
			defaults: {
		    	labelAlign: 'right',
		    	labelWidth: 60,
		    	margin:4
		    },
			items:[{
				xtype: 'textfield',
				columnWidth:0.3,
				fieldLabel: '车型编码',
				name: 'code',
				maxLength: 50,
				allowBlank: false
			},{
				xtype: 'textfield',
				columnWidth:0.3,
				fieldLabel: '车型名称',
				name: 'name',
				maxLength: 50,
				allowBlank: false
			},{
				xtype: 'displayfield',
				columnWidth:0.4
			},{
				xtype: 'textfield',
				columnWidth:0.3,
				fieldLabel: '项目总监',
				name: 'director',
				readOnly: true,
				fieldCls: 'text-readonly'
			},{
				xtype: 'sysUserCombo',
				columnWidth:0.3,
				fieldLabel: '项目经理',
			    name: 'pmName',
			    idField: 'pm',
	            allowBlank:false
			},{
				xtype:'hiddenfield',
		        name: 'pm'
			},{
				xtype: 'sysUserCombo',
				columnWidth:0.3,
				fieldLabel: '质量经理',
			    name: 'qmName',
			    idField: 'qm',
	            allowBlank:false
			},{
				xtype:'hiddenfield',
		        name: 'qm'
			}]
		}];
		me.tbar = [{
			text:'保存',
			iconCls: 'x-fa fa-save',
			handler: 'saveVehicleInfo'
		}];

		this.callParent(arguments);
		me.getForm().load({params:{vehicleId:me.programVehicleId}})
	}
});