Ext.define('ExtApp.view.common.CounterTextArea',{
	extend: 'Ext.container.Container',
	xtype: 'counterTextArea',
	viewModel: {
		data: {
			value: '',
			value2:''
		},
		formulas: {
			count: {
				bind: '{value}',
				get: function(value){
					var counter = 500 - value.length;
					return "（最多500个字符, 还可输入 " + counter + " 个字符）";
				}
			},
			count2: {
				bind: '{value2}',
				get: function(value2){
					var counter = 500 - value2.length;
					return "（最多500个字符, 还可输入 " + counter + " 个字符）";
				}
			}
		}
	},
	layout:{
		type:'vbox',
		align:'stretch'
	},
	initComponent: function() {
		var me = this;
		me.items = [{
			xtype:'textarea',
			flex: 1,
			name:me.name,
			labelWidth: me.labelWidth,
			//padding:me.padding,
			labelAlign:me.labelAlign, 
			minWidth:me.minWidth,
			enforceMaxLength:me.enforceMaxLength,
			maxLength:me.maxLength,
			bind: '{value}',
			fieldLabel:me.fieldLabel,
			readOnly: me.readOnly,
			fieldCls: me.fieldCls
		},{
			xtype:'box',
			flex: 1,
			padding: me.letterPadding,
			bind: '{count}'
		}];
		me.callParent(arguments);
	}
});