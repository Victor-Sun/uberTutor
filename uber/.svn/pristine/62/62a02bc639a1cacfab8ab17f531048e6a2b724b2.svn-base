/**
 * 项目管理-主计划
 */
Ext.define('ExtApp.view.projectManagement.org.ProjectOrganizationTab',{
	extend:'Ext.tab.Panel',
	xtype:'projectOrganizationTab',
	
	layout: 'fit',

	initComponent: function() {
		var me = this;
		// 一级组织架构查看权限取得
		var privilege4view01 = ExtApp.util.Util.getPrivilege(
				'P0601', this.projectPrivilege, this.programVehicleId);
		// 二级组织架构查看权限取得
		var privilege4view02 = ExtApp.util.Util.getPrivilege(
				'P0604', this.projectPrivilege, this.programVehicleId);
		me.items = [];
		if (me.baselineId && me.baselineId != null) {
			if (me.baselineObsId && me.baselineObsId != null) {
				me.items.push(Ext.create({
					xtype: 'projectOrganization03',
					title: me.record.get('vehicleName') + '二级组织架构',
					programId: this.programId,
					programVehicleId: this.programVehicleId,
					projectPrivilege: this.projectPrivilege,
					baselineId: this.baselineId
				}));
			} else {
				me.items.push(Ext.create({
					xtype: 'projectOrganization01',
					title: me.record.get('vehicleName') + '一级组织架构',
					programId: this.programId,
					programVehicleId: this.programVehicleId,
					projectPrivilege: this.projectPrivilege,
					baselineId: this.baselineId
				}));
			}
		} else {
			if (privilege4view01) {
				me.items.push(Ext.create({
					xtype: 'projectOrganization01',
					title: me.record.get('vehicleName') + '一级组织架构',
					programId: this.programId,
					programVehicleId: this.programVehicleId,
					projectPrivilege: this.projectPrivilege,
					baselineId: this.baselineId
				}));
			}
			if (privilege4view02) {
				me.items.push(Ext.create({
					xtype: 'projectOrganization03',
					title: me.record.get('vehicleName') + '二级组织架构',
					programId: this.programId,
					programVehicleId: this.programVehicleId,
					projectPrivilege: this.projectPrivilege,
					baselineId: this.baselineId
				}));
			}
		}

		this.callParent();
	}
});