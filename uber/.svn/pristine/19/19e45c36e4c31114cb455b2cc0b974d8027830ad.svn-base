/**
 * PMS首页
 */
Ext.define('ExtApp.view.dashboard.DashboardPMSController',{
	extend: 'ExtApp.view.common.BaseViewController',
    alias: 'controller.dashboardPMS',

    // 初始化
    init: function() {
    	var me = this;
    	var store = Ext.create(
			'ExtApp.store.dashboard.DashboardPMSStore');
    	store.load();
    	store.on('load', function() {
        	for (var i = 0; i < this.data.length; i++) {
        		var title = this.data.getAt(i).get('title');
        		var iconCls = this.data.getAt(i).get('iconCls');
        		var xType = this.data.getAt(i).get('xType');
        		var height = this.data.getAt(i).get('widgetWidth');
        		if('nodeSeriesChart' == xType){
        			if(me.view){
        				me.view.add({
                			xtype:'dashboard-widget',
                			containerColor:'blue',
                			height:300,
                			userCls:'big-100 small-100 shadow',
                			items:[{
                				title:title,
                				items:[{
                					xtype:'nodeSeriesChart',
                					scrollable:false
                				}]
                			}]
                		});
        			}
        		}else{
        			if(me.view){
        				me.view.add({
                			xtype:'dashboard-widget',
                			containerColor:'blue',
                			height:height,
                			userCls:'big-100 small-100 shadow',
                			items:[{
                				title:title,
                				items:[{
                					xtype:xType,
                					scrollable:false
                				}]
                			}]
                		});
        			}
        		}
        		
        	}
    	});
    }
});