/**
 * 项目管理-主节点
 */
Ext.define('ExtApp.view.projectmanagement.mainnode.ProjectPlanSOPController', {
    extend: 'ExtApp.view.common.BaseViewController',
    alias: 'controller.projectPlanSOP',
    
    // 初始化
    init: function() {
    	var me = this;
    	if (! me.view.editPrivilege) {
    		me.view.down('toolbar').setHidden(true);
    	}
    	me.view.load({
    		params: {
    			programVehicleId: me.view.programVehicleId
    		}
    	});
    },
    
    // 编辑SOP
    editSOP: function() {
    	var me = this;
    	Ext.create({
    		xtype: 'editSOP',
    		programVehicleId: me.view.programVehicleId,
    		parentCaller: me
    	}).show();
    },
    
    // 刷新
    refreshView: function() {
    	var me = this;
    	me.view.load({
    		params: {
    			programVehicleId: me.view.programVehicleId
    		}
    	});
    }
});