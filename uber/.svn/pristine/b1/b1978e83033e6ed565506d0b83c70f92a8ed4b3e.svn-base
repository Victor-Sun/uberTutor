/**
 * 附件列表
 */
Ext.define('ExtApp.view.projectmanagement.extplan.ext301.PartFileAttachment',{
	extend:'Ext.window.Window',
	width:500,
	height:400,
	xtype:'partFileAttachment',
	controller: 'partFileAttachment',
	
	minHeight: 45,
	title:'计划变更历史',
	initComponent: function() {
		
		var me = this;
		
		var hiddenFlg = false;
		if (typeof(me.editable) != 'undefined' && me.editable != null) {
			hiddenFlg = ! me.editable;
		}
//		me.view.down('partFileAttachmentGrid').sourceType = 'SOURCE_TYPE_PART_CONTROLL';
//		me.view.down('partFileAttachmentGrid').sourceId = newValue;
//		me.view.down('partFileAttachment').sourceType = 'SOURCE_TYPE_PART_CONTROLL';
//		me.view.down('partFileAttachment').sourceId = newValue;
//		var store = me.down('partFileAttachmentGrid').getStore();
//		store.getProxy().extraParams = {
//			sourceType: 'SOURCE_TYPE_PART_CONTROLL', sourceId:me.programVehicleId};
//		store.load();
		me.items = [{
			xtype: 'partFileAttachmentGrid',
			width: '100%',
			margin: '5 5 5 0',
			programId:me.programId,
    		sourceType: 'SOURCE_TYPE_PART_CONTROLL',
    		sourceId: me.programVehicleId,
    		editable:me.editable
		}];
		me.callParent();
	}
});