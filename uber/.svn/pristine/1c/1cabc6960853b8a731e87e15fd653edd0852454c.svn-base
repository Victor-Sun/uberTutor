/**
 * 质量问题管理-历史表单
 */
Ext.define('ExtApp.view.qualityissuemanagement.qedashboard.HistoryForm',{
	extend:'Ext.panel.Panel',
	xtype:'historyForm',
	
	controller: 'historyForm',

//	margin:10,
	cls:'shadow',
	
	layout: 'fit',
	
	initComponent: function() {
		var store = Ext.create('ExtApp.store.qualityissuemanagement.HistoryFormStore');
		store.getProxy().extraParams = {
			issueId: this.issueId
		};
		store.load();
		
		this.items = [{
			xtype:'grid',
			store: store,
			columns: [{
				xtype : "rownumberer"
			},{
				text: '问题编号',
				flex:1,
				dataIndex: 'code'
			},{
				text: '问题标题',
				flex:1,
				dataIndex: 'title'
			},{
				text: '问题状态',
				flex:1,
				dataIndex: 'issueStatus'
			},{
				text: '问题等级',
				flex:1,
				dataIndex: 'issueLevel'
			},{
				text: '所属项目',
				flex:1,
				dataIndex: 'programCode'
			},{
				text: '版本号',
				flex:1,
				dataIndex: 'revision'
			},{
				text:'版本创建日期',
				dataIndex:'hstCreateDate',
				formatter: 'date("Y/m/d")',
				flex: 1,
				filter: {
					type: 'date'
				}
			}],
            dockedItems: [{
                xtype: 'pagingtoolbar',
                dock: 'bottom',
                displayInfo: true,
                store: store
            }],
            listeners:{
            	celldblclick: 'onCelldblclick'
			}
		}];
		this.callParent(arguments);
	}
});