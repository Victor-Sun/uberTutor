Ext.define('ExtApp.view.projectmanagement.issue.contribution.ContributionUserChart',{
	extend: 'Ext.container.Container',
	xtype: 'contributionuserchart',
	
	controller: 'contribution',
	
	layout: 'fit',

	initComponent: function () {
		var contribute = Ext.create('ExtApp.store.projectmanagement.ContributionUserStore',{
			sorters: [{
				property: 'contributionCount',
				direction: 'DESC' // or 'ASC'
			}]
		});
		
//		var onBarTipRender = function (tooltip, record, item) {
//	        var fieldIndex = Ext.Array.indexOf(item.series.getYField(), item.field),
//	            browser = item.series.getTitle()[fieldIndex];
//
//	        tooltip.setHtml(browser + ' on ' +
//	            record.get('name') + ': ' +
//	            record.get(item.fieldIndex).toFixed(1) + 'Contributions');
//	    }; 
	    
		this.items = [{
			xtype: 'cartesian',
			store: contribute,
			axes: [{
				type: 'numeric',
				grid: true,
				position: 'left',
				title: {
					text: 'Contribution Count',
					fontSize: 15
				},
				fields: 'contributionCount'
			}, {
				type: 'category',
				position: 'bottom',
				title: {
					text: 'User',
					fontSize: 15
				},
				label: {
		            	rotate: {
		            		degrees: -45
		            	}
				},
				fields: 'name'
			}],
			series: {
				type: 'bar',
				style: {
					width: 50    //<-- Specify you Column width here
				},
				subStyle: {
					fill: ['#388FAD'],
					stroke: '#1F6D91'
				},
				xField: 'name',
				yField: 'contributionCount'
			},
			highlight: {
        	   fillStyle: '#000',
        	   radius: 5,
        	   lineWidth: 2,
        	   strokeStyle: '#fff'
           },
           tooltip: {
        	   trackMouse: true,
        	   showDelay: 0,
        	   dismissDelay: 0,
        	   hideDelay: 0,
        	   renderer: 'onSeriesLabelRender'
           }
		}];
		this.callParent();
	}
});