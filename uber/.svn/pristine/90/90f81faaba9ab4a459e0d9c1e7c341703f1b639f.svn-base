Ext.define('ExtApp.view.workorder.common.WorkOrderNotes', {
    extend: 'Ext.grid.Panel',
    xtype: 'workOrderNotes',
    requires: [
        'Ext.grid.Panel',
        'Ext.toolbar.Paging',
        'Ext.grid.column.Date',
		'Ext.grid.plugin.RowExpander'
    ],
    controller: 'workOrderNotes',
    cls: 'allRecordsCls notes-grid',
    scrollable: true,
    border: false,
    viewConfig: {
        preserveScrollOnRefresh: true,
        stripeRows: false
    },
    appId:null,
	columns:[{
		dataIndex:'title',
		flex:1,
		renderer:'renderTitleColumn'
	}],
	titleTpl:
    '<div class="text-wrapper">'+
		'<div class="notes-icon shadow {roleId}">&nbsp;</div>'+
        '<div class="notes-data">'+
            '<div class="notes-content">'+
				'<div class="notes-header">'+
					'<span class="notes notes-author"><i class="fa fa-user"></i>{author}</span>'+
					'<span class="notes notes-step"><i class="fa fa-map-marker"></i>{stepId}</span>'+
				'</div>'+
				'<div class="notes-header">'+
					'<span class="notes notes-time"><i class="fa fa-calendar "></i>{date}&nbsp;</span>'+
					//'<span class="notes notes-time"><i class="fa fa-clock"></i></span>'+
				'</div>'+
				'<div class="notes-paragraph" >'+
					'<span>{paragraph}</span>'+
				'</div>'+
            '</div>'+
        '</div>'+
    '<div>',
    initComponent: function() {
		me = this;
		var workOrderNotes = Ext.create('ExtApp.store.workorder.WorkOrderNotes');
		workOrderNotes.load({params:{id:me.workOrderId}});
		this.store = workOrderNotes;
	    me.callParent(arguments);
	}
});
