/**
 * 项目管理-基本信息
 */
Ext.define('ExtApp.view.projectmanagement.base.ProjectBaseInfo',{
	extend:'Ext.form.Panel',
	xtype:'projectBaseInfo',
	reference: 'refProjectBaseInfo',

	requires: [
		'ExtApp.view.projectmanagement.base.ProjectBaseInfo01',
		'ExtApp.view.projectmanagement.base.ProjectBaseInfo02',
		'ExtApp.view.projectmanagement.base.ProjectBaseInfo05',
		'ExtApp.view.projectmanagement.base.ProjectBaseInfo03',
		'ExtApp.view.projectmanagement.base.ProjectBaseInfo07'
	],

	layout:{
		type:'vbox',
		align:'stretch'
	},
	
	scrollable:'y',
	title:'项目基本信息',
	initComponent: function() {
		// 编辑权限取得
		var editPrivilege = ExtApp.util.Util.getPrivilege(
								'P0202', this.projectPrivilege);
		// 基本信息
		var baseInfo01 =
			Ext.create('ExtApp.view.projectmanagement.base.ProjectBaseInfo01',
			{programId: this.programId,
			 projectPrivilege: this.projectPrivilege,
			 editPrivilege: editPrivilege,
			 programType: this.programType,
			 programStauts: this.programStauts});
		
		// SOP日期
		var baseInfo02 = Ext.create(
				'ExtApp.view.projectmanagement.base.ProjectBaseInfo02',
				{programId: this.programId,
				 editPrivilege: editPrivilege || (this.programStauts == 'draft'),
				 programType: this.programType});
		
		// 备案记录
		var baseInfo03 = Ext.create(
				'ExtApp.view.projectmanagement.base.ProjectBaseInfo03',
				{programId: this.programId,
				 editPrivilege: editPrivilege || (this.programStauts == 'draft')});
		
		// 开发范围
		var baseInfo05 = Ext.create(
				'ExtApp.view.projectmanagement.base.ProjectBaseInfo05',
				{programId: this.programId,
				 editPrivilege: editPrivilege || (this.programStauts == 'draft')});

		// 附件
		var baseInfo07 = Ext.create(
				'ExtApp.view.projectmanagement.base.ProjectBaseInfo07',
				{programId: this.programId,
				 editPrivilege: editPrivilege || (this.programStauts == 'draft')});

		this.items = [{
			xtype: 'panel',
		    items: [
	            baseInfo01,
	            baseInfo02,
	            baseInfo03,
	            baseInfo05,
	            baseInfo07
		    ]
		}];
		this.callParent(arguments);
	}
});