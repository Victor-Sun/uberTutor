/**
 * 项目管理-专项计划Ext202新增Model
 */
Ext.define('ExtApp.view.projectManagement.extplan.ext202.Ext202Modle',{
	extend:'Ext.window.Window',
	xtype:'ext202Modle',
	controller: 'ext202Model',
    width: 600,
    height: 400,
    title: '新增专项计划模板',
	fbar:[
			{ type:'button', text:'保存',
				listeners: {
					click: 'saveExtendedProject'
				}
			}
	],
    initComponent: function() {
    	var me = this;
    	var extProcessStore = Ext.create('Ext.data.Store', {
		    fields: ['id', 'name'],
		    proxy: {
		    	type: 'ajax',
		    	url: '/pdms/pm/project-tree!getExtProcessList.action',
		        reader: {
		            type: 'json',
		            rootProperty: 'data'
		        }
		    },
		    autoLoad: true
		});
		
		// Create the combo box, attached to the states data store
		var extProcess = Ext.create('Ext.form.ComboBox', {
		    fieldLabel: '专项类型',
		    store: extProcessStore,
		    name:'extProcessCode',
		    queryMode: 'local',
		    displayField: 'name',
		    allowBlank:false,
		    width: 220,
		    valueField: 'id',
		    labelAlign: 'top'
		});
    	me.items = [{
    		xtype:'form',
    		reference: 'extendedProjectForm',
    		layout:{
    			type:'vbox',
    			align:'stretch'
    		},
    		defaults: {
    			labelAlign: 'top',
    			margin:'1 20'
    		},
    		items:[{
    	        xtype:'hiddenfield', 
    	        name: 'pdmsProgramUuid',
    	        value:me.programId
    		},extProcess,{
				xtype: 'textfield',
				name: 'applicationName',
				width: 220,
				fieldLabel: '专项名称',
				labelAlign: 'top',
				margin:'1 20'
			}]
    	}]; 
        this.callParent();
    }
});