/**
 * 项目管理-车型看板-更改项目状态
 */
Ext.define('ExtApp.view.projectManagement.vehicle.ChangeReportStatus',{
	extend:'Ext.window.Window',
	xtype:'changeReportStatus',

	modal: true,
	closable: false,
	
	layout: 'fit',
	
	controller: 'changeReportStatus',
	
	width: 400,
	height: 200,
	
	title: '更改项目总体状态',
	
	initComponent: function() {
		var me = this;
		
		// 状态
		var statusStore = Ext.create('ExtApp.store.common.CodeTableStore');
		statusStore.getProxy().extraParams = {type: 'PROGRAM_REPORT_STATUS'};
		statusStore.load();
		
		this.items = [{
			xtype: 'form',
			layout:{
				type:'vbox',
				align:'stretch'
			},
			items: [{
				xtype: 'panel',
				layout:{
					type:'vbox',
					align:'stretch'
				},
				items: [{
					xtype: 'combobox',
					flex: 1,
					margin: 5,
					fieldLabel: '项目总体状态',
					editable: false,
					store: statusStore,
				    queryMode: 'local',
				    displayField: 'name',
				    valueField: 'code',
				    name: 'statusCodeTotal',
				    value: this.statusCodeTotal
				},{
					xtype: 'textarea',
					flex: 1,
					margin: 5,
					fieldLabel: '备注',
					name: 'memo',
					maxLength: 2000
				}]
			}]
		}];
		this.tools = [{
			text:'确定',
			xtype: 'button',
			iconCls: 'x-fa fa-circle-o',
			handler: 'confirm'
		},{
			text:'取消',
			xtype: 'button',
			iconCls: 'x-fa fa-close',
			handler: 'cancel'
		}];
		this.callParent();
	}
});