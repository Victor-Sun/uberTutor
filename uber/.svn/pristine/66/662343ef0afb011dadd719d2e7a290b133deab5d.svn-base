/**
 * 项目管理-阀门交付物-阀门质量编辑
 */
Ext.define('ExtApp.view.projectmanagement.cp.ProjectValveDocument02',{
	extend:'Ext.window.Window',
	xtype:'projectValveDocument02',

	controller: 'projectValveDocument02',

	closable: false,
	width:280,
	modal: true,
	
    initComponent: function() {
    	var me = this;
    	//阀门状态
    	var progressStore = Ext.create(
			'ExtApp.store.common.CodeTableStore');
		progressStore.getProxy().extraParams = {type: 'GATE_STATUS'};
		progressStore.load();
		
    	this.items = [{
    		xtype:'form',
    		margin: 10,
    		layout: 'column',
    		items: [{
    			xtype:'displayfield',
    			fieldLabel:'阀门状态'	,
    			reference:'refGateStatusCode',
    			columnWidth: 0.25,
    			value: this.gateStatusCode,
    			renderer: function(value, filed) {
    		    	return me.controller.renderGateProgress(value);
    		    }
    		},{
    	    	xtype: 'combobox',
    	    	margin:'0 0 0 45',
    	    	columnWidth: 0.50,
    	    	editable: false,
    			store: progressStore,
    		    queryMode: 'local',
    		    displayField: 'name',
    		    valueField: 'code',
    		    name: 'gateStatusCode',
    		    value: this.gateStatusCode,
    		    listeners: {
    		    	change: 'onChangeGateStatus'
    		    }
    		},{
    			xtype:'displayfield',
				fieldLabel:'阀门时间'	,
				format: 'Y/m/d',
				value: this.plannedFinishDate,
				columnWidth: 1
    		}]
		}];
    	this.tbar = ['->',{
//    		text:'通过',
//			iconCls: 'x-fa fa-mail-forward',
//			handler: 'forward'
//    	},'->',{
			text:'确定',
			iconCls: 'x-fa fa-circle-o',
			handler: 'confirm'
		},{
			text:'取消',
			iconCls: 'x-fa fa-close',
			handler: 'cancel'
		}];
        this.callParent(arguments);
    }
});