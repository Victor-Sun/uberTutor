/**
 * 项目管理-项目名称根节点View
 */
Ext.define('ExtApp.view.projectmanagement.ProjectDashboard',{
	extend:'Ext.panel.Panel',
	xtype:'projectDashboard',

	layout:{
		type:'fit'
	},
	initComponent: function() {
		var action = null;
		var keyId = null;
		if (! this.action) {
			action = this.up().up().action;
			keyId = this.up().up().keyId;
		} else {
			action = this.action;
			keyId = this.keyId;
		}
		// 基本信息
		var baseInfo =
			Ext.create('ExtApp.view.projectmanagement.base.ProjectBaseInfo',
					   {action: action, keyId: keyId});
		// 阀门交付物
		var valveDoc =
			Ext.create('ExtApp.view.projectmanagement.cp.ProjectValveDocument',
					   {action: action, programId: keyId});

		// Item
		this.items = [
            {
				xtype:'tabpanel',
				region:'center',
				items:[
				    // 状态报告
                    {
                    	title:'状态报告',
                    	scrollable:'y',
                    	xtype:'projectDBStatusReport'
                    },
                    // 基本信息
                    {
                    	title:'基本信息',
                    	scrollable:'y',
                    	items: [baseInfo]
                    },
//                    // 时程表 
//                    {
//                    	title:'时程表',
//                    	scrollable:'y',
//                    	xtype:'projectTimeLineTable'
//					},
//					// 节点管理清单
//					{
//						title:'节点管理清单',
//						scrollable:'y',
//						xtype:'projectNodeList'
//					},
					// 阀门交付物
					{
						title: '阀门交付物',
						scrollable:'y',
						items: [valveDoc]
					},
					// 任务列表
					{
						title: '任务列表',
						scrollable:'y',
						xtype: 'projectTaskList'
					}
				]
    		}
        ];
		this.callParent(arguments);
	}
});